window.innerWidth<768&&[].slice.call(document.querySelectorAll("[data-bss-disabled-mobile]")).forEach((function(t){t.classList.remove("animated"),t.removeAttribute("data-bss-hover-animate"),t.removeAttribute("data-aos"),t.removeAttribute("data-bss-parallax-bg"),t.removeAttribute("data-bss-scroll-zoom")})),document.addEventListener("DOMContentLoaded",(function(){"AOS"in window&&AOS.init()}),!1),function(){"use strict";var t=document.querySelector("#mainNav");if(t){var e=t.querySelector(".navbar-collapse");if(e){var n=new bootstrap.Collapse(e,{toggle:!1}),o=e.querySelectorAll("a");for(var r of o)r.addEventListener("click",(function(t){n.hide()}))}var i=function(){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)>100?t.classList.add("navbar-shrink"):t.classList.remove("navbar-shrink")};i(),document.addEventListener("scroll",i)}}(),function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.baguetteBox=e()}(this,(function(){"use strict";var t,e,n,o,r,i={},a={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},s={},c=[],u=0,l=!1,d={},p=!1,f=/.+\.(gif|jpe?g|png|webp)/i,m={},y=[],g=null,v=function(t){-1!==t.target.id.indexOf("baguette-img")&&_()},b=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,O()},h=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,P()},C=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,_()},S=function(t){d.count++,1<d.count&&(d.multitouch=!0),d.startX=t.changedTouches[0].pageX,d.startY=t.changedTouches[0].pageY},I=function(t){if(!p&&!d.multitouch){t.preventDefault?t.preventDefault():t.returnValue=!1;var e=t.touches[0]||t.changedTouches[0];40<e.pageX-d.startX?(p=!0,O()):e.pageX-d.startX<-40?(p=!0,P()):100<d.startY-e.pageY&&_()}},B=function(){d.count--,d.count<=0&&(d.multitouch=!1),p=!1},w=function(){B()},k=function(e){"block"===t.style.display&&t.contains&&!t.contains(e.target)&&(e.stopPropagation(),F())};function E(t){if(m.hasOwnProperty(t)){var e=m[t].galleries;[].forEach.call(e,(function(t){[].forEach.call(t,(function(t){G(t.imageElement,"click",t.eventHandler)})),c===t&&(c=[])})),delete m[t]}}function T(t){switch(t.keyCode){case 37:O();break;case 39:P();break;case 27:_();break;case 36:!function(t){t&&t.preventDefault(),L(0)}(t);break;case 35:!function(t){t&&t.preventDefault(),L(c.length-1)}(t)}}function x(r,s){if(c!==r){for(c=r,function(r){for(var s in r=r||{},a)i[s]=a[s],void 0!==r[s]&&(i[s]=r[s]);e.style.transition=e.style.webkitTransition="fadeIn"===i.animation?"opacity .4s ease":"slideIn"===i.animation?"":"none","auto"===i.buttons&&("ontouchstart"in window||1===c.length)&&(i.buttons=!1),n.style.display=o.style.display=i.buttons?"":"none";try{t.style.backgroundColor=i.overlayBackgroundColor}catch(t){}}(s);e.firstChild;)e.removeChild(e.firstChild);for(var u,l=[],d=[],p=y.length=0;p<r.length;p++)(u=R("div")).className="full-image",u.id="baguette-img-"+p,y.push(u),l.push("baguetteBox-figure-"+p),d.push("baguetteBox-figcaption-"+p),e.appendChild(y[p]);t.setAttribute("aria-labelledby",l.join(" ")),t.setAttribute("aria-describedby",d.join(" "))}}function N(e){i.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==t.style.display&&(D(document,"keydown",T),d={count:0,startX:null,startY:null},A(u=e,(function(){H(u),Y(u)})),M(),t.style.display="block",i.fullScreen&&(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()),setTimeout((function(){t.className="visible",i.bodyClass&&document.body.classList&&document.body.classList.add(i.bodyClass),i.afterShow&&i.afterShow()}),50),i.onChange&&i.onChange(u,y.length),g=document.activeElement,F(),l=!0)}function F(){i.buttons?n.focus():r.focus()}function _(){i.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==t.style.display&&(G(document,"keydown",T),t.className="",setTimeout((function(){t.style.display="none",document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()),i.bodyClass&&document.body.classList&&document.body.classList.remove(i.bodyClass),i.afterHide&&i.afterHide(),g&&g.focus(),l=!1}),500))}function A(t,e){var n=y[t],o=c[t];if(void 0!==n&&void 0!==o)if(n.getElementsByTagName("img")[0])e&&e();else{var r=o.imageElement,a=r.getElementsByTagName("img")[0],s="function"==typeof i.captions?i.captions.call(c,r):r.getAttribute("data-caption")||r.title,u=function(t){var e=t.href;if(t.dataset){var n=[];for(var o in t.dataset)"at-"!==o.substring(0,3)||isNaN(o.substring(3))||(n[o.replace("at-","")]=t.dataset[o]);for(var r=Object.keys(n).sort((function(t,e){return parseInt(t,10)<parseInt(e,10)?-1:1})),i=window.innerWidth*window.devicePixelRatio,a=0;a<r.length-1&&r[a]<i;)a++;e=n[r[a]]||e}return e}(r),l=R("figure");if(l.id="baguetteBox-figure-"+t,l.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',i.captions&&s){var d=R("figcaption");d.id="baguetteBox-figcaption-"+t,d.innerHTML=s,l.appendChild(d)}n.appendChild(l);var p=R("img");p.onload=function(){var n=document.querySelector("#baguette-img-"+t+" .baguetteBox-spinner");l.removeChild(n),!i.async&&e&&e()},p.setAttribute("src",u),p.alt=a&&a.alt||"",i.titleTag&&s&&(p.title=s),l.appendChild(p),i.async&&e&&e()}}function P(){return L(u+1)}function O(){return L(u-1)}function L(t,e){return!l&&0<=t&&t<e.length?(x(e,i),N(t),!0):t<0?(i.animation&&q("left"),!1):t>=y.length?(i.animation&&q("right"),!1):(A(u=t,(function(){H(u),Y(u)})),M(),i.onChange&&i.onChange(u,y.length),!0)}function q(t){e.className="bounce-from-"+t,setTimeout((function(){e.className=""}),400)}function M(){var t=100*-u+"%";"fadeIn"===i.animation?(e.style.opacity=0,setTimeout((function(){s.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t,e.style.opacity=1}),400)):s.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t}function H(t){t-u>=i.preload||A(t+1,(function(){H(t+1)}))}function Y(t){u-t>=i.preload||A(t-1,(function(){Y(t-1)}))}function D(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent("on"+e,(function(t){(t=t||window.event).target=t.target||t.srcElement,n(t)}))}function G(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent("on"+e,n)}function Q(t){return document.getElementById(t)}function R(t){return document.createElement(t)}return[].forEach||(Array.prototype.forEach=function(t,e){for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}),[].filter||(Array.prototype.filter=function(t,e,n,o,r){for(n=this,o=[],r=0;r<n.length;r++)t.call(e,n[r],r,n)&&o.push(n[r]);return o}),{run:function(i,a){return s.transforms=function(){var t=R("div");return void 0!==t.style.perspective||void 0!==t.style.webkitPerspective}(),s.svg=function(){var t=R("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),s.passiveEvents=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),function(){if(t=Q("baguetteBox-overlay"))return e=Q("baguetteBox-slider"),n=Q("previous-button"),o=Q("next-button"),void(r=Q("close-button"));(t=R("div")).setAttribute("role","dialog"),t.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(t),(e=R("div")).id="baguetteBox-slider",t.appendChild(e),(n=R("button")).setAttribute("type","button"),n.id="previous-button",n.setAttribute("aria-label","Previous"),n.innerHTML=s.svg?'<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&lt;",t.appendChild(n),(o=R("button")).setAttribute("type","button"),o.id="next-button",o.setAttribute("aria-label","Next"),o.innerHTML=s.svg?'<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&gt;",t.appendChild(o),(r=R("button")).setAttribute("type","button"),r.id="close-button",r.setAttribute("aria-label","Close"),r.innerHTML=s.svg?'<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>':"&times;",t.appendChild(r),n.className=o.className=r.className="baguetteBox-button",function(){var i=s.passiveEvents?{passive:!1}:null,a=s.passiveEvents?{passive:!0}:null;D(t,"click",v),D(n,"click",b),D(o,"click",h),D(r,"click",C),D(e,"contextmenu",w),D(t,"touchstart",S,a),D(t,"touchmove",I,i),D(t,"touchend",B),D(document,"focus",k,!0)}()}(),E(i),function(t,e){var n=document.querySelectorAll(t),o={galleries:[],nodeList:n};return m[t]=o,[].forEach.call(n,(function(t){e&&e.filter&&(f=e.filter);var n=[];if(n="A"===t.tagName?[t]:t.getElementsByTagName("a"),0!==(n=[].filter.call(n,(function(t){if(-1===t.className.indexOf(e&&e.ignoreClass))return f.test(t.href)}))).length){var r=[];[].forEach.call(n,(function(t,n){var o=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,x(r,e),N(n)},i={eventHandler:o,imageElement:t};D(t,"click",o),r.push(i)})),o.galleries.push(r)}})),o.galleries}(i,a)},show:L,showNext:P,showPrevious:O,hide:_,destroy:function(){!function(){var i=s.passiveEvents?{passive:!1}:null,a=s.passiveEvents?{passive:!0}:null;G(t,"click",v),G(n,"click",b),G(o,"click",h),G(r,"click",C),G(e,"contextmenu",w),G(t,"touchstart",S,a),G(t,"touchmove",I,i),G(t,"touchend",B),G(document,"focus",k,!0)}(),function(){for(var t in m)m.hasOwnProperty(t)&&E(t)}(),G(document,"keydown",T),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),m={},c=[],u=0}}})),document.querySelectorAll("[data-bss-baguettebox]").length>0&&baguetteBox.run("[data-bss-baguettebox]",{animation:"slideIn"});const SHOP_CONFIG={TestMode:!0,Currency:"EUR",Products:[{key:"book_dachs",title:"Der Dachs und die Welt",product_live:"prod_T6iEYdlAANick0",product_test:"prod_T73XBAfBZE4zVb",price_label:"25,23 €",thumb:"/assets/img/products/BookSmall.webp",vat_percent:7}]},CART_KEY="rw.cart.v1",clampQty=t=>Math.max(1,Math.min(100,parseInt(t,10)||1)),load=()=>{try{return JSON.parse(localStorage.getItem(CART_KEY))||[]}catch{return[]}},save=t=>localStorage.setItem(CART_KEY,JSON.stringify(t));function isTestMode(){return!!SHOP_CONFIG.TestMode}function activeStripeId(t){return isTestMode()?t.product_test:t.product_live}function findByKey(t){return SHOP_CONFIG.Products.find((e=>e.key===t))}function findByStripeId(t){return SHOP_CONFIG.Products.find((e=>e.product_live===t||e.product_test===t))}function displayName(t){const e=findByStripeId(t);return e?e.title:t}function displayThumb(t){const e=findByStripeId(t);return e?e.thumb:""}function mapToActiveStripeId(t){const e=findByStripeId(t);return e?activeStripeId(e):t}function parsePriceLabelToCents(t){if(!t)return 0;const e=String(t).replace(/[^\d,\.]/g,"").trim();if(!e)return 0;const n=e.replace(/\./g,"").replace(",",".");return Math.round(100*(parseFloat(n)||0))}function unitNetCentsForStripeId(t){const e=findByStripeId(t);return e?Number.isFinite(e.price_net_cents)?0|e.price_net_cents:e.price_label?parsePriceLabelToCents(e.price_label):0:0}function getVatPercentForStripeId(t){const e=findByStripeId(t);return e&&Number.isFinite(e.vat_percent)?e.vat_percent:7}function unitGrossCentsForStripeId(t){const e=unitNetCentsForStripeId(t),n=getVatPercentForStripeId(t);return Math.round(e*(1+n/100))}function formatCents(t,e=SHOP_CONFIG.Currency||"EUR"){return(t/100).toLocaleString("de-DE",{style:"currency",currency:e})}function cartBroadcast(){const t=cartCount();window.dispatchEvent(new CustomEvent("shop:cart-changed",{detail:{count:t}})),document.querySelectorAll("[data-cart-badge]").forEach((e=>e.textContent=String(t)))}function getCart(){return load()}function getCartDetailed(){return getCart().map((t=>{const e=unitNetCentsForStripeId(t.product),n=unitGrossCentsForStripeId(t.product),o=getVatPercentForStripeId(t.product),r=clampQty(t.quantity);return{...t,quantity:r,title:displayName(t.product),thumb:displayThumb(t.product),unit_net_cents:e,unit_gross_cents:n,line_net_cents:e*r,line_gross_cents:n*r,vat_percent:o}}))}function clearCart(){save([]),cartBroadcast()}function addByKey(t,e=1){const n=findByKey(t);if(n)return addByStripeId(activeStripeId(n),e)}function addByStripeId(t,e=1){e=clampQty(e);const n=mapToActiveStripeId(t),o=load(),r=o.findIndex((t=>t.product===n));r>=0?o[r].quantity=clampQty(o[r].quantity+e):o.push({product:n,quantity:e}),save(o),cartBroadcast()}function setQtyByStripeId(t,e){e=clampQty(e);const n=mapToActiveStripeId(t),o=load(),r=o.findIndex((t=>t.product===n));r>=0&&(o[r].quantity=e,save(o),cartBroadcast())}function removeByStripeId(t){const e=mapToActiveStripeId(t);save(load().filter((t=>t.product!==e))),cartBroadcast()}function cartCount(){return load().reduce(((t,e)=>t+clampQty(e.quantity)),0)}function toCheckoutItems(){return load().map((t=>({product:mapToActiveStripeId(t.product),quantity:clampQty(t.quantity)})))}function normalizeCartForCurrentMode(){const t=load().map((t=>({product:mapToActiveStripeId(t.product),quantity:clampQty(t.quantity)})));save(t),cartBroadcast()}function setTestMode(t){SHOP_CONFIG.TestMode=!!t,normalizeCartForCurrentMode()}window.Shop={config:SHOP_CONFIG,products:()=>SHOP_CONFIG.Products.slice(),findByKey:findByKey,findByStripeId:findByStripeId,activeStripeId:activeStripeId,getCart:getCart,getCartDetailed:getCartDetailed,clearCart:clearCart,addByKey:addByKey,addByStripeId:addByStripeId,setQtyByStripeId:setQtyByStripeId,removeByStripeId:removeByStripeId,cartCount:cartCount,toCheckoutItems:toCheckoutItems,formatCents:formatCents,unitNetCentsForStripeId:unitNetCentsForStripeId,unitGrossCentsForStripeId:unitGrossCentsForStripeId,getVatPercentForStripeId:getVatPercentForStripeId,isTestMode:isTestMode,setTestMode:setTestMode,onCartChange(t){window.addEventListener("shop:cart-changed",(e=>t(e.detail)))}},cartBroadcast();